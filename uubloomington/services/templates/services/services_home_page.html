{% extends 'base.html' %}

{% load static %}
{% load wagtailcore_tags %}
{% load wagtailimages_tags %}
{% load icon %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'services/services_home_page.css' %}">
{% endblock %}

{% block content %}
    <div class="card upcoming-service">
        <h2>This Sunday's Service</h2>
        <h3>{{ next_service.title }}</h3>
        <span class="service-description">
            {% image next_service.featured_image fill-200x200 class="right" %}
            {{ next_service.body|richtext }}
        </span>
        <span class="upcoming-service-buttons">
            <a class="card-action" href="{{ next_service.url }}">
                {% icon "plus" %}
                More Details
            </a>
        </span>
    </div>
    <div class="card">
        <h2>Upcoming Services</h2>
{#        Upcoming services list#}
        <div class="events-container services">
            <ul>
                {% for service in next_services_list %}
                    <li>
                        <span class="event-title">
                            <h3>{{ service.title }}</h3>
                            <a href="{{ service.url }}">More Info</a>
                        </span>
                        <span class="event-info">
                            {% if service.one_sentence %}
                                {{ service.one_sentence }}
                            {% endif %}
                        </span>
                    </li>
                {% endfor %}
            </ul>
        </div>
    </div>
    <div class="card archive">
        <h2>Past Services</h2>
{#        Service Archive, show 5 and allow expansion#}
{#    Make this an HX-Post which knows what the last-fetched service was, OOB swaps the form, and loads the next 10.#}
        <div class="events-container services">
            <ul>
                {% for service in previous_services_list %}
                    <li>
                        <span class="event-title">
                            <h3>{{ service.title }}</h3>
                            <a href="{{ service.url }}">More Info</a>
                        </span>
                        <span class="event-info">
                            {% if service.one_sentence %}
                                {{ service.one_sentence }}
                            {% endif %}
                        </span>
                    </li>
                {% endfor %}
            </ul>
        </div>
    </div>
{% endblock %}